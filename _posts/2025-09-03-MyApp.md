---
layout: post

title:  "MyApp"

categories: ["Api", "Classes"]

tags: ['app', 'my']

---
`SimpleKivy.SimpleKivy.MyApp(layout=[[]], title='MyApp', event_manager=None, custom_titlebar=False, alpha=1, keep_on_top=False, layout_args={}, icon='skdata/logo/simplekivy-icon-32.png', layout_class=None, do_auto_config=True, **kwargs)`{: .python}


A complete overhaul of how the `App` object is created.

## Attributes

`window_is_maximized (BooleanProperty)`: Whether the window is maximized. Can be set to maximize (`= True`) or restore (`= False`) the window.


`top_widget (AliasProperty)`: Current widget being shown on top of all other widgets. Intended for menus, tooltips, etc.


`subtop_widget (AliasProperty)`: Current widget being shown on top of all other widgets, besides `top_widget`. Intended for submenus.


`hwnd (int)`: OS window id (`hwnd`) of the application.


`keep_on_top (bool)`: Wheter your application's window is shown on top of all other windows. Defaults to `False`.


`alpha (float)`: Transparency of the window. Only works on Windows at the moment. Defaults to `1` (opaque).


`Clock`: Alias of `kivy.clock.Clock`.

`mdi`: Alias of `SimpleKivy.utils.mdi`.

`kvWindow`: Alias of `kivy.core.window.Window`.


`ids (IDS)`: Dictionary of ids of all app widgets. You can access widgets with *variable name conformant* ids with dot notation (`app.ids.widget_id`) if the widget was created like this: `sk.Label("text",k='widget_id')`.


`event_manager`: `function` or `EventManager` instance. Must accept at least two positional arguments `app` and `event`.


```py
def evman(app, event):
    pass
app=sk.MyApp(
    ...
    event_manager = evman
    ...
)
```

`ico (str)`: Path to an `*.ico` file. Needed for file dialogs (`askdirectory`, `askopenfile`, etc.) in in Windows platforms only.


`poolt`: Initialized as `ThreadPoolExecutor(thread_name_prefix='SimpleKivy')`.  You can use it to submit threaded tasks.


`queue (dict)`: Don't overwrite it. This dict is populated by the `thread_pool_new` method.


## Methods

`process_added_widgets()`: Call this after creating `SimpleKivy` widgets. Finishes processing widgets and incorporating them to the `MyApp` instance.


`thread_pool_new(name, max_workers=None)`: Creates a thread pool with `ThreadPoolExecutor(max_workers=max_workers,thread_name_prefix=name)` and adds it to the `queue` dictionary with the name as key.


`queue_new(name)`: Creates a thread pool with a single worker (a queue) with `ThreadPoolExecutor(max_workers=1,thread_name_prefix=name)` and adds it to the `queue` dictionary with the name as key.


`hide(*key_list, shrink = True)`: Hides widgets by their key/id.

> - `*key_list`: Positional arguments representing all the widgets by their key which will be hidden.

> - `shrink (bool)`: Whether the widget's size will be set to `(0,0)` while hidden.


`unhide(*key_list, enforce = {})`: Unhides widgets.

> - `*key_list`: Positional arguments representing all the widgets by their key which will be unhidden.

> - `enforce (dict)`: Properties to enforce after unhiding. In case the widget's size is not fully restored after hiding it.


`destroy_widget(k, default = None)`: Removes a widget from the extra references kept by `SimpleKivy`, like `app.ids`.


`add_top_widget(widget, remove_on_click=True)`: Adds a top widget to be shown on top of other widgets.

> - `widget (Widget)`: Widget (sets as `MyApp.top_widget` value).

> - `remove_on_click (bool)`: Whether the `top_widget` will be removed automatically when a mouse click event is detected.


`remove_top_widget()`: Remove the current `top_widget` if any.


`add_top_widget(widget, remove_on_click=True)`: Adds a subtop widget to be shown on top of other widgets, besides the `top_widget`.

> - `widget (Widget)`: Widget (sets as `MyApp.subtop_widget` value).

> - `remove_on_click (bool)`: Whether the `subtop_widget` will be removed automatically when a mouse click event is detected.


`remove_subtop_widget()`: Remove the current `subtop_widget` if any.


`infotip`: Shows an infotip.

`infotip_schedule`: Schedules an infotip to be shown in the next frame.


`infotip_remove_schedule`: Schedules the `top_widget` to be removed in the next frame.


`disable_widgets(*widgets)`: Sets `disabled = True` of the positional arguments `*widgets` given:

> - `*widgets`: One or many `str` or `Widget` values. If `str`, must be a widget id.


`enable_widgets(*widgets)`: Sets `disabled = False` of the positional arguments `*widgets` given:

> - `*widgets`: One or many `str` or `Widget` values. If `str`, must be a widget id.


`Resize(width, height)`: Setes the Window size.


`bring_to_front()`: Brings the Window to the front of all other opened programs.


`dt_call(k,prop=None,val=None,_kw_prepro=False,ignore_errors=False,**kwargs)`: Returns a `lambda` function that calls `MyApp.__call__` with the given arguments.


`schedule_call_once(k,prop=None,val=None,timeout=0,_kw_prepro=False,ignore_errors=False,**kwargs)`: Schedules `MyApp.__call__` with the given arguments to be called in the next frame.


`__call__(k,prop=None,val=None,timeout=0,_kw_prepro=False,ignore_errors=False,**kwargs)`: You can call a `MyApp` instance as if it were a function to schedule property changes.


> Example:

```py
app(k='label_widget_id',text='New text', haling='right')
```

`trigger_event(event,*args,**kwargs)`: Gets or creates a trigger for the event. The trigger created will call the `event_manager` with the given arguments.


`schedule_event_once(event,*args,timeout=0,**kwargs)`: Schedule a call of the `event_manager` for the next frame with the given arguments.


`schedule_func_once(func,*args,timeout=0,**kwargs)`: Schedule a function to be called in the next frame with the given arguments.


`submit_thread_event(event,*args,**kwargs)`: Submits a call of the `event_manager` in the `poolt` thread pool with the given arguments. Aliases: `thread_event`


`submit_thread_event_at(thread_name,event,*args,**kwargs)`: Submits a call of the `event_manager` in the `queue[thread_name]` thread pool with the given arguments. Aliases: `thread_event_at`


`call_event(event,*args,**kwargs)`: Calls the `event_manager` with the given arguments.


`keys()`: Shortcut to `MyApp.ids.keys()`.

`values()`: Shortcut to `MyApp.ids.values()`.

`items()`: Shortcut to `MyApp.ids.items()`.


`AskOpenFile(initialdir: str, filetypes: tuple or list, callback: function or None, **kw)`: Creates a `SimpleKivy` file dialog to open a file.


> - `initialdir`: Initial directory. Defaults to "./".



> - `filetypes`: Defined as a tuple containing inner tuples. Each inner tuple defines a file type: `(("Text Files", "*.txt"), ("Image files", "*.png *.jpg *.jpeg"))`



> - `callback (None or function)`: Called with the returned value as argument. Only triggered when it is not cancelled.



> - `**kw`: File dialog keyword arguments. See [tkinter documentation](https://docs.python.org/3/library/dialog.html) for more information



`AskDirectory`: Creates a `SimpleKivy` file dialog to open a directory.


> - `initialdir`: Initial directory. Defaults to "./".



> - `callback (None or function)`: Called with the returned value as argument. Only triggered when it is not cancelled.



> - `**kw`: File dialog keyword arguments. See [tkinter documentation](https://docs.python.org/3/library/dialog.html) for more information



`askdirectory`: Creates a native platform file dialog to open a directory.


> - `initialdir`: Initial directory. Defaults to "./".



> - `callback (None or function)`: Called with the returned value as argument. Only triggered when it is not cancelled.



> - `**kw`: File dialog keyword arguments. See [tkinter documentation](https://docs.python.org/3/library/dialog.html) for more information



`askopenfile`: Creates a native platform file dialog to open a file.


> - `initialdir`: Initial directory. Defaults to "./".



> - `filetypes`: Defined as a tuple containing inner tuples. Each inner tuple defines a file type: `(("Text Files", "*.txt"), ("Image files", "*.png *.jpg *.jpeg"))`



> - `callback (None or function)`: Called with the returned value as argument. Only triggered when it is not cancelled.



> - `**kw`: File dialog keyword arguments. See [tkinter documentation](https://docs.python.org/3/library/dialog.html) for more information



`askopenfiles`: Creates a native platform file dialog to open multiple files.


> - `initialdir`: Initial directory. Defaults to "./".



> - `filetypes`: Defined as a tuple containing inner tuples. Each inner tuple defines a file type: `(("Text Files", "*.txt"), ("Image files", "*.png *.jpg *.jpeg"))`



> - `callback (None or function)`: Called with the returned value as argument. Only triggered when it is not cancelled.



> - `**kw`: File dialog keyword arguments. See [tkinter documentation](https://docs.python.org/3/library/dialog.html) for more information



`asksaveasfile`: Creates a native platform file dialog to save a file as the input name and location.


> - `initialfile`: The file selected upon opening of the dialog



> - `filetypes`: Defined as a tuple containing inner tuples. Each inner tuple defines a file type: `(("Text Files", "*.txt"), ("Image files", "*.png *.jpg *.jpeg"))`



> - `callback (None or function)`: Called with the returned value as argument. Only triggered when it is not cancelled.



> - `**kw`: File dialog keyword arguments. See [tkinter documentation](https://docs.python.org/3/library/dialog.html) for more information



`popup_message`: Creates a popup widget with a message.


`lock()`: Show a lock screen that only gets dismissed when you call the `unlock` method.


`unlock()`: Dismisses the `lock` screen.


`build()`: Internal. Processes and returns the `layout` as a widget.


`minimize()`: Shortcut to `kivy.core.Window.minimize()`

`restore()`: Shortcut to `kivy.core.Window.restore()`

`maximize()`: Shortcut to `kivy.core.Window.maximize()`

`close()`: Closes the app.


`is_leaving()`: Whether the app is in the closing sequence. Useful when there are threaded tasks that have not finished.


`sleep_in_thread(timeout = 0)`: Similar to the `time.sleep` function, but returns immediately if the app is in the closing sequence.


## Kivy Bases
`App`

{: .prompt-info }

> This page only details the new or modified features. All other parameters inherit from the base Kivy widgets and can be found in the [official Kivy documentation](https://kivy.org/doc/stable).

